#   Integrations   

## GET /greetings

TLDR: simple hello world API method

Simple API methods implemented in a code first approach (flow service + REST resource + REST API descriptor.)  
It takes a name QP in the request and returns a "Hello %name%" message in the response.  
```
curl --location "${ROOT_URL}/hello-world/greetings?name=someone" \
--header 'accept: application/json' \
-u Administrator:${ADMIN_PASSWORD} 
```

## POST /greetings

TLDR: feeding of a relational database using the JDBC adapter

This method takes a Greeting object in input and stores it in a MySQL database, using the JDBC adapter. In the process, it adds a uuid and a creation timestamp, which are returned in the response. 
Also implemented in a code first approach.
```
curl --location "${ROOT_URL}/hello-world/greetings" \
--header 'accept: application/json' \
--header 'Content-Type: application/json' \
-u Administrator:${ADMIN_PASSWORD} \
--data '{
    "message": "This is an API test",
    "issuer": "Tester"
}'
```

## POST /upload

TLDR: binary API and file persistence

This method takes a binary file in input and saves it into a persistent storage space. The file name is provided in a X-Filename HTTP header.  
Implemented in a contract-first approach (see the OpenAPI v3 specification: resources/api/FileManagement.yml)  
```
curl --location "${ROOT_URL}/rad/fr.sttlab.api:FileManagementAPI/upload" \
--header "X-Filename: ${FILENAME}" \
--header 'Content-Type: application/octet-stream' \
-u Administrator:${ADMIN_PASSWORD} \
--data "@${LOCAL_FILE_LOCATION}"
```

## POST /reports

TLDR: JMS based messaging and integration with a SFTP server

This method takes a folder path in input and sends a JMS message to a queue to request the generation of a report for the files located in this folder.  
The report is generated by a JMS triggered flow service, which places the content (XML document) into a file that is sent to a SFTP server 
```
curl --location "${ROOT_URL}/rad/fr.sttlab.api:FileManagementAPI/reports" \
--header 'Content-Type: application/json' \
-u Administrator:${ADMIN_PASSWORD} \
--data '{
    "folder": "/files"
}'
```